(this["webpackJsonphunger-habit"]=this["webpackJsonphunger-habit"]||[]).push([[0],[,,function(e,t,n){e.exports={box:"Averages_box__4Hm3Q",month:"Averages_month__1s4Jv",date:"Averages_date__hayd6",label:"Averages_label__I6gIb",value:"Averages_value__1H6fm"}},,function(e,t,n){e.exports={box:"WeightInput_box__2rdDN",content:"WeightInput_content__1b9RL",title:"WeightInput_title__2CGOw",input:"WeightInput_input__1PUmL",time:"WeightInput_time__iEYeq",exportButton:"WeightInput_exportButton__1bFWK"}},function(e,t,n){e.exports={box:"Weights_box__BOWNP",value:"Weights_value__2_izx",weight:"Weights_weight__XK47H",time:"Weights_time__3l0eE",deleteButton:"Weights_deleteButton__PcfbH"}},function(e,t,n){e.exports={box:"Graph_box__10xRL",weights:"Graph_weights__WCuAs",normal:"Graph_normal__399-F",minor:"Graph_minor__1llgy",major:"Graph_major__1jabc",year:"Graph_year__HVUQf"}},,,,function(e,t,n){e.exports=n(17)},,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(8),o=n.n(i),c=(n(16),n(3)),l=n(1);var s=n(2),u=n.n(s),m=n(9);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){return e.map((function(e){var t=e.weights.reduce((function(e,t){return e+parseFloat(t.weight,10)}),0),n=e.weights.length;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){Object(m.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{count:n,average:t/n})}))}var v=function(e){var t=e.weights,n=Object(a.useState)([]),i=Object(l.a)(n,2),o=i[0],s=i[1],m=new Date;return Object(a.useEffect)((function(){var e=function(e){return e.map((function(e){var t=e.weights.map((function(t){return parseFloat(t.weight,10)-e.average})).reduce((function(e,t){return e+t*t}),0),n=Math.sqrt(t/e.count);return{year:e.year,month:e.month,count:e.count,average:e.average,stdDev:n}}))}(h(function(e){var t=e.reduce((function(e,t){var n=new Date(t.time),a=n.getFullYear(),r=n.getMonth()+1,i="0".concat(r).slice(-2),o="".concat(a,"_").concat(i);return e[o]||(e[o]={year:a,month:r,weights:[]}),e[o].weights=[].concat(Object(c.a)(e[o].weights),[t]),e}),{});return Object.values(t)}(t)));s(e)}),[t]),r.a.createElement("section",{className:"averagesSection"},r.a.createElement("div",{className:u.a.box},r.a.createElement("ul",null,o.slice(0).reverse().map((function(e){return r.a.createElement("li",{key:"".concat(e.year,"_").concat(e.month)},r.a.createElement("div",{className:u.a.month},r.a.createElement("div",{className:u.a.date},new Date(m.setMonth(e.month-1)).toLocaleString("en",{month:"long"})," ",e.year),r.a.createElement("div",null,r.a.createElement("span",{className:u.a.label},"Average"),r.a.createElement("span",{className:u.a.value},e.average.toFixed(1))),r.a.createElement("div",null,r.a.createElement("span",{className:u.a.label},"Measurements"),r.a.createElement("span",{className:u.a.value},e.count)),r.a.createElement("div",null,r.a.createElement("span",{className:u.a.label},"Std Dev"),r.a.createElement("span",{className:u.a.value},e.stdDev.toFixed(1)))))})))))},f=n(6),d=n.n(f);var w=function(e){var t=e.weights,n=3456e5,i=Object(a.useState)(null),o=Object(l.a)(i,2),s=o[0],u=o[1];function m(e,t){return e/n-t.timeMin}function g(e,t){var n=parseFloat(e,10);return t.weightRange+t.weightMin-n}function h(e,t){var a=function(e,t){return e.reduce((function(e,n,a){var r=m(n.time,t),i=g(n.weight,t);return e+=0===a?"M ":"L ",e+="".concat(r.toFixed(2)," ").concat(i.toFixed(2))}),"")}(e,t);return r.a.createElement("svg",{height:"100%",viewBox:"0 0 ".concat(t.timeRange," ").concat(t.weightRange)},r.a.createElement("path",{d:a,className:d.a.weights}),function(e){for(var t=Math.round(e.weightMin+e.weightRange),n=[];t>=e.weightMin;)n=[].concat(Object(c.a)(n),[t]),t-=1;return n.map((function(t){var n="normal";t%10===0?n="major":t%5===0&&(n="minor");var a=g(t,e);return r.a.createElement("line",{key:a,x1:"0",y1:a,x2:e.timeRange,y2:a,className:d.a[n]})}))}(t),function(e){var t=n*e.timeMin,a=n*(e.timeMin+e.timeRange),i=new Date(t),o=new Date(a);o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0);for(var l=[];o>=i;){var s="normal";1===o.getDate()&&(s=0===o.getMonth()?"year":"major"),0===o.getDay()&&(s="minor");var u=m(o.getTime(),e);l=[].concat(Object(c.a)(l),[[u,s]]),o.setDate(o.getDate()-1)}return l.map((function(t){return r.a.createElement("line",{key:t[0],x1:t[0],y1:"0",x2:t[0],y2:e.weightRange,className:d.a[t[1]]})}))}(t))}function v(){var e=document.getElementById("graphBox");e.scrollLeft+=e.scrollWidth}return Object(a.useEffect)((function(){var e=function(e){var t=.1*(e.weightMax-e.weightMin),a=e.weightMin-t,r=e.weightMax+t-a,i=e.timeMin/n;return{weightMin:a,weightRange:r,timeMin:i,timeRange:e.timeMax/n-i}}(function(e){var t={timeMin:1/0,timeMax:0,weightMin:1/0,weightMax:0};return e.reduce((function(e,t){e.timeMin=t.time<e.timeMin?t.time:e.timeMin,e.timeMax=t.time>e.timeMax?t.time:e.timeMax;var n=parseFloat(t.weight,10);return e.weightMin=n<e.weightMin?n:e.weightMin,e.weightMax=n>e.weightMax?n:e.weightMax,e}),t)}(t));u(h(t,e)),setTimeout(v,0)}),[t]),r.a.createElement("section",{className:"graphSection"},r.a.createElement("div",{id:"graphBox",className:d.a.box},s))},p=n(4),b=n.n(p);var _=function(e){var t=e.saveWeight,n=e.exportWeights,i=Object(a.useState)(""),o=Object(l.a)(i,2),c=o[0],s=o[1],u=new Date,m=u.toLocaleString("en-us",{weekday:"short",day:"numeric",month:"short",year:"numeric"}),g=u.toLocaleString("en-us",{hour:"numeric",minute:"2-digit"});return r.a.createElement("section",{className:"weightInputSection"},r.a.createElement("div",{className:b.a.box},r.a.createElement("div",null,r.a.createElement("div",{className:b.a.title},"Add Current Weight"),r.a.createElement("div",{className:b.a.input},r.a.createElement("div",null,r.a.createElement("input",{id:"yo",type:"number",min:"0",max:"1000",step:"0.1",value:c,onChange:function(e){s(e.target.value)},onKeyUp:function(e){13===e.keyCode&&(t(c),s(""))}})),r.a.createElement("div",{className:b.a.time},r.a.createElement("div",null,m),r.a.createElement("div",null,g)),r.a.createElement("div",null,r.a.createElement("button",{className:b.a.exportButton,onClick:n},"Export"))))))},E=n(5),y=n.n(E);var x=function(e){var t=e.weights,n=e.deleteWeight;return r.a.createElement("section",{className:"weightsSection"},r.a.createElement("div",{className:y.a.box},t.slice(0).reverse().map((function(e){return function(e){var t=new Date(e.time),a=t.toLocaleString("en-us",{weekday:"short",day:"numeric",month:"short",year:"numeric"}),i=t.toLocaleString("en-us",{hour:"numeric",minute:"2-digit"});return r.a.createElement("div",{key:e.time,className:y.a.value},r.a.createElement("div",{className:y.a.weight},e.weight),r.a.createElement("div",{className:y.a.time},r.a.createElement("div",null,a),r.a.createElement("div",null,i)),r.a.createElement("div",null,r.a.createElement("button",{className:y.a.deleteButton,onClick:function(){return n(e.time)}},"X")))}(e)}))))};var O=function(){var e=function(e,t){var n=Object(a.useState)((function(){var n=window.localStorage.getItem(e);if(n)try{return JSON.parse(n)}catch(a){console.error("localStorage error:",e,n,a)}return window.localStorage.setItem(e,JSON.stringify(t)),t})),r=Object(l.a)(n,2),i=r[0],o=r[1];return Object(a.useEffect)((function(){window.localStorage.setItem(e,JSON.stringify(i))}),[e,i]),[i,o]}("weights",[]),t=Object(l.a)(e,2),n=t[0],i=t[1];return r.a.createElement("main",{className:"page"},r.a.createElement(_,{saveWeight:function(e){i([].concat(Object(c.a)(n),[{time:Date.now(),weight:parseFloat(e,10)}]))},exportWeights:function(){!function(e){var t=new Blob([JSON.stringify(e)],{type:"application/json"}),n=URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download="weightData.json",a.click(),setTimeout((function(){URL.revokeObjectURL(n)}),0)}(n)}}),r.a.createElement(x,{weights:n,deleteWeight:function(e){i(n.filter((function(t){return t.time!==e})))}}),r.a.createElement("div",{className:"spacer"}),r.a.createElement(v,{weights:n}),r.a.createElement("div",{className:"spacer"}),r.a.createElement(w,{weights:n}))},M=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function j(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(O,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/hunger-habit",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/hunger-habit","/service-worker.js");M?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):j(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):j(t,e)}))}}()}],[[10,1,2]]]);
//# sourceMappingURL=main.c929100f.chunk.js.map