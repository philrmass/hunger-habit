(this["webpackJsonphunger-habit"]=this["webpackJsonphunger-habit"]||[]).push([[0],[,,function(e,t,n){e.exports={box:"Averages_box__4Hm3Q",month:"Averages_month__1s4Jv",date:"Averages_date__hayd6",label:"Averages_label__I6gIb",value:"Averages_value__1H6fm"}},function(e,t,n){e.exports={box:"WeightInput_box__2rdDN",content:"WeightInput_content__1b9RL",title:"WeightInput_title__2CGOw",input:"WeightInput_input__1PUmL",time:"WeightInput_time__iEYeq",exportButton:"WeightInput_exportButton__1bFWK"}},function(e,t,n){e.exports={box:"Weights_box__BOWNP",value:"Weights_value__2_izx",weight:"Weights_weight__XK47H",time:"Weights_time__3l0eE",deleteButton:"Weights_deleteButton__PcfbH"}},function(e,t,n){e.exports={box:"Graph_box__10xRL",weights:"Graph_weights__WCuAs",normal:"Graph_normal__399-F",minor:"Graph_minor__1llgy",major:"Graph_major__1jabc",year:"Graph_year__HVUQf"}},,,,function(e,t,n){e.exports=n(16)},,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(7),r=n.n(o),c=(n(15),n(1));var s=n(2),l=n.n(s),m=n(8);var u=function({weights:e}){const t=Object(a.useState)([]),n=Object(c.a)(t,2),o=n[0],r=n[1],s=new Date;return Object(a.useEffect)(()=>{const t=function(e){return e.map(e=>{const t=e.weights.map(t=>parseFloat(t.weight,10)-e.average).reduce((e,t)=>e+t*t,0),n=Math.sqrt(t/e.count);return{year:e.year,month:e.month,count:e.count,average:e.average,stdDev:n}})}(function(e){return e.map(e=>{const t=e.weights.reduce((e,t)=>e+parseFloat(t.weight,10),0),n=e.weights.length,a=t/n;return Object(m.a)({},e,{count:n,average:a})})}(function(e){const t=e.reduce((e,t)=>{const n=new Date(t.time),a=n.getFullYear(),i=n.getMonth()+1,o="0".concat(i).slice(-2),r="".concat(a,"_").concat(o);return e[r]||(e[r]={year:a,month:i,weights:[]}),e[r].weights=[...e[r].weights,t],e},{});return Object.values(t)}(e)));r(t)},[e]),i.a.createElement("section",{className:"averagesSection"},i.a.createElement("div",{className:l.a.box},i.a.createElement("ul",null,o.slice(0).reverse().map(e=>i.a.createElement("li",{key:"".concat(e.year,"_").concat(e.month)},i.a.createElement("div",{className:l.a.month},i.a.createElement("div",{className:l.a.date},new Date(s.setMonth(e.month-1)).toLocaleString("en",{month:"long"})," ",e.year),i.a.createElement("div",null,i.a.createElement("span",{className:l.a.label},"Average"),i.a.createElement("span",{className:l.a.value},e.average.toFixed(1))),i.a.createElement("div",null,i.a.createElement("span",{className:l.a.label},"Measurements"),i.a.createElement("span",{className:l.a.value},e.count)),i.a.createElement("div",null,i.a.createElement("span",{className:l.a.label},"Std Dev"),i.a.createElement("span",{className:l.a.value},e.stdDev.toFixed(1)))))))))},g=n(5),h=n.n(g);var d=function({weights:e}){const t=Object(a.useState)(null),n=Object(c.a)(t,2),o=n[0],r=n[1];function s(e,t){return e/3456e5-t.timeMin}function l(e,t){const n=parseFloat(e,10);return t.weightRange+t.weightMin-n}function m(e,t){const n=function(e,t){return e.reduce((e,n,a)=>{const i=s(n.time,t),o=l(n.weight,t);return e+=0===a?"M ":"L ",e+="".concat(i.toFixed(2)," ").concat(o.toFixed(2))},"")}(e,t);return i.a.createElement("svg",{height:"100%",viewBox:"0 0 ".concat(t.timeRange," ").concat(t.weightRange)},i.a.createElement("path",{d:n,className:h.a.weights}),function(e){let t=Math.round(e.weightMin+e.weightRange),n=[];for(;t>=e.weightMin;)n=[...n,t],t-=1;return n.map(t=>{let n="normal";t%10===0?n="major":t%5===0&&(n="minor");const a=l(t,e);return i.a.createElement("line",{key:a,x1:"0",y1:a,x2:e.timeRange,y2:a,className:h.a[n]})})}(t),function(e){const t=3456e5*e.timeMin,n=3456e5*(e.timeMin+e.timeRange),a=new Date(t),o=new Date(n);o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0);let r=[];for(;o>=a;){let t="normal";1===o.getDate()&&(t=0===o.getMonth()?"year":"major"),0===o.getDay()&&(t="minor");const n=s(o.getTime(),e);r=[...r,[n,t]],o.setDate(o.getDate()-1)}return r.map(t=>i.a.createElement("line",{key:t[0],x1:t[0],y1:"0",x2:t[0],y2:e.weightRange,className:h.a[t[1]]}))}(t))}function u(){var e=document.getElementById("graphBox");e.scrollLeft+=e.scrollWidth}return Object(a.useEffect)(()=>{const t=function(e){const t=.1*(e.weightMax-e.weightMin),n=e.weightMin-t,a=e.weightMax+t-n,i=e.timeMin/3456e5;return{weightMin:n,weightRange:a,timeMin:i,timeRange:e.timeMax/3456e5-i}}(function(e){const t={timeMin:1/0,timeMax:0,weightMin:1/0,weightMax:0};return e.reduce((e,t)=>{e.timeMin=t.time<e.timeMin?t.time:e.timeMin,e.timeMax=t.time>e.timeMax?t.time:e.timeMax;const n=parseFloat(t.weight,10);return e.weightMin=n<e.weightMin?n:e.weightMin,e.weightMax=n>e.weightMax?n:e.weightMax,e},t)}(e));r(m(e,t)),setTimeout(u,0)},[e]),i.a.createElement("section",{className:"graphSection"},i.a.createElement("div",{id:"graphBox",className:h.a.box},o))},w=n(3),v=n.n(w);var p=function({saveWeight:e,exportWeights:t}){const n=Object(a.useState)(""),o=Object(c.a)(n,2),r=o[0],s=o[1],l=new Date,m=l.toLocaleString("en-us",{weekday:"short",day:"numeric",month:"short",year:"numeric"}),u=l.toLocaleString("en-us",{hour:"numeric",minute:"2-digit"});return i.a.createElement("section",{className:"weightInputSection"},i.a.createElement("div",{className:v.a.box},i.a.createElement("div",null,i.a.createElement("div",{className:v.a.title},"Add Current Weight"),i.a.createElement("div",{className:v.a.input},i.a.createElement("div",null,i.a.createElement("input",{id:"yo",type:"number",min:"0",max:"1000",step:"0.1",value:r,onChange:function(e){s(e.target.value)},onKeyUp:function(t){13===t.keyCode&&(e(r),s(""))}})),i.a.createElement("div",{className:v.a.time},i.a.createElement("div",null,m),i.a.createElement("div",null,u)),i.a.createElement("div",null,i.a.createElement("button",{className:v.a.exportButton,onClick:t},"Export"))))))},_=n(4),f=n.n(_);var E=function({weights:e,deleteWeight:t}){return i.a.createElement("section",{className:"weightsSection"},i.a.createElement("div",{className:f.a.box},e.slice(0).reverse().map(e=>function(e){const n=new Date(e.time),a=n.toLocaleString("en-us",{weekday:"short",day:"numeric",month:"short",year:"numeric"}),o=n.toLocaleString("en-us",{hour:"numeric",minute:"2-digit"});return i.a.createElement("div",{key:e.time,className:f.a.value},i.a.createElement("div",{className:f.a.weight},e.weight),i.a.createElement("div",{className:f.a.time},i.a.createElement("div",null,a),i.a.createElement("div",null,o)),i.a.createElement("div",null,i.a.createElement("button",{className:f.a.deleteButton,onClick:()=>t(e.time)},"X")))}(e))))};var b=function(){const e=function(e,t){const n=Object(a.useState)(()=>{const n=window.localStorage.getItem(e);if(n)try{return JSON.parse(n)}catch(a){console.error("localStorage error:",e,n,a)}return window.localStorage.setItem(e,JSON.stringify(t)),t}),i=Object(c.a)(n,2),o=i[0],r=i[1];return Object(a.useEffect)(()=>{window.localStorage.setItem(e,JSON.stringify(o))},[e,o]),[o,r]}("weights",[]),t=Object(c.a)(e,2),n=t[0],o=t[1];return i.a.createElement("main",{className:"page"},i.a.createElement(p,{saveWeight:function(e){o([...n,{time:Date.now(),weight:parseFloat(e,10)}])},exportWeights:function(){!function(e){const t=new Blob([JSON.stringify(e)],{type:"application/json"}),n=URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download="weightData.json",a.click(),setTimeout((function(){URL.revokeObjectURL(n)}),0)}(n)}}),i.a.createElement(E,{weights:n,deleteWeight:function(e){o(n.filter(t=>t.time!==e))}}),i.a.createElement("div",{className:"spacer"}),i.a.createElement(u,{weights:n}),i.a.createElement("div",{className:"spacer"}),i.a.createElement(d,{weights:n}))};const x=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function y(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const n=e.installing;null!=n&&(n.onstatechange=()=>{"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}r.a.render(i.a.createElement(b,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/hunger-habit",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t="".concat("/hunger-habit","/service-worker.js");x?(!function(e,t){fetch(e).then(n=>{const a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):y(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):y(t,e)})}}()}],[[9,1,2]]]);
//# sourceMappingURL=main.1033b9cb.chunk.js.map